<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimal-ui">
	  <meta content=' user-scalable=no' name='viewport'>
    <title>Pinball</title>
    <style type="text/css">
      body{
        background-color: #333;
      }
	  	html,
		body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    height: 100vh;
    width: 100vw;                 /* đảm bảo luôn full ngang */
    display: flex;
    flex-direction: column;
    flex: 1;

    background-image: url(./bg.png);
    background-size: cover;       /* luôn phủ đầy màn hình */
    background-position: center;  /* căn giữa */
    background-repeat: no-repeat; /* không lặp */

    color: black;
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}


    </style>    
  </head>
  <body>

    <div style="position:absolute;z-index:100;height: 100%;width: 100%;background-color: none;top:150px">
			<button style="height:500px;width:49%;background:none;border: none;outline: none;" ontouchstart="window.dispatchEvent(new KeyboardEvent('keydown', {
				
				keyCode: 37,
				
				which: 37,
			
			  }));" ontouchend="setTimeout(function(){window.dispatchEvent(new KeyboardEvent('keyup', {
				
				keyCode: 37,
				
				which: 37,
			
			  }))}, 50);"></button>
			<button style="height:500px;width:49%;background:none;border: none;outline: none;"  ontouchstart="window.dispatchEvent(new KeyboardEvent('keydown', {
				
				keyCode: 39,
				
				which: 39,
				
			  }))" ontouchend="setTimeout(function(){window.dispatchEvent(new KeyboardEvent('keyup', {
				
				keyCode: 39,
				
				which: 39,
			
			  }))}, 50);"></button>
			  <img  src="space.png" style="position:absolute;z-index:100;right:2%;height:40px;width:40px;bottom:70%;border-radius: 50%;opacity: 0.3;"   ontouchstart="window.dispatchEvent(new KeyboardEvent('keydown', {
				
				keyCode: 32,
				
				which: 32,
				
			  }))" ontouchend="window.dispatchEvent(new KeyboardEvent('keyup', {
				
				keyCode: 32,
				
				which: 32,
			
			  }))">
				
			</img>
	
		
	

		
	</div>

   
    <script>
      window.PINBALL_STANDALONE = true
    </script>
    <script src="javascripts/application.js" type="text/javascript"></script>
    <script>
      <script>
(function() {
  // threshold để coi là "double-tap"
  const TWO_FINGER_DOUBLE_TAP_MS = 400;

  // lưu timestamp lần two-finger tap trước
  let lastTwoFingerTap = 0;

  // target layer mà bạn muốn áp dụng (toàn trang dùng document)
  const layer = document; // or document.querySelector('.touch-layer') if you only want that layer

  // Lắng nghe touchstart để phát hiện multi-finger taps
  layer.addEventListener('touchstart', function(e) {
    // chỉ quan tâm khi có >= 2 ngón cùng lúc
    if (!e.touches || e.touches.length < 2) return;

    const now = Date.now();

    // nếu lần two-finger tap trước rất gần -> xem là double-tap 2-finger -> chặn
    if (now - lastTwoFingerTap <= TWO_FINGER_DOUBLE_TAP_MS) {
      // chặn hành vi mặc định (zoom) và ngăn gửi sự kiện thêm
      e.preventDefault();
      e.stopImmediatePropagation();
      // optional: console debug
      // console.log('Blocked two-finger double-tap');
      lastTwoFingerTap = 0; // reset
      return;
    }

    // nếu không phải double-tap, cập nhật timestamp (lần đầu)
    lastTwoFingerTap = now;

    // ngoài ra: bạn có thể muốn preventDefault lần chạm 2 ngón đầu tiên luôn (nếu cần)
    // e.preventDefault();
  }, { passive: false, capture: true });

  // reset timer nếu không có touch tiếp theo trong khoảng threshold
  // (giúp tránh false positive lâu dài)
  setInterval(() => {
    if (lastTwoFingerTap && (Date.now() - lastTwoFingerTap > TWO_FINGER_DOUBLE_TAP_MS)) {
      lastTwoFingerTap = 0;
    }
  }, 200);

})();
</script>

      </script>
  </body>
</html>
