<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>js-dos 8.xx</title>
  <style>
    html,
    body {
      width: 100%;
    }
    html,
		body {
			margin: 0;
			padding: 0;
			overflow: hidden;
			height: 100vh;
			display: flex;
			flex-direction: column;
			flex: 1;
			background-color: black;
			color: black;
			-webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
	-webkit-user-select: none;
	-khtml-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;
			/* font-family: Tahoma, Geneva, Verdana, sans-serif; */
		}
  </style>
  <script src="./js-dos.js"></script>
<link rel="stylesheet" href="./js-dos.css">


  <style>
  .soft-keyboard-overlay {
  width: 90%;
  left: 50%;
  transform: translateX(-50%);
}

  </style>
  <style>
    #backButton {
      position: fixed;
      top: 20px;
      left: 20px;
      padding: 10px 18px;
      background: linear-gradient(135deg, #8a8a8a5c, #00000067);
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: bold;
      color: white;
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      z-index: 999;
    }

    #backButton:hover {
      transform: scale(1.1);
      box-shadow: 0 8px 20px rgba(0,0,0,0.4);
    }

    #backButton:active {
      transform: scale(0.95);
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    }
  </style>
</head>

<body>
  <script>
let lastTouchEnd = 0;

document.addEventListener('touchend', function (event) {
  const now = new Date().getTime();
  if (now - lastTouchEnd <= 300) {
    event.preventDefault();  // ‚Üê CH·∫∂N DOUBLE-TAP ZOOM
  }
  lastTouchEnd = now;
}, { passive: false });
</script>
  <button id="backButton">üè†</button>

    <div id="dos" style="width: 100%; height: 100%"></div>
  <script>
    if (window.android !== undefined && window.android.startHardwareService !== undefined) {
        window.backendHardware = (emulator) => {
            return new Promise((resolve) => {
                window.backendResolve = resolve;
                window.android.startHardwareService(emulator);
            });
        };
    }
    const params = new URLSearchParams(location.search);
    const startIpxServer = params.get("startIpxServer") === "1";
    const connectIpxAddress = params.get("connectIpxAddress") === "1" ? "js-dos-dev-room" : undefined;
    const diabloConf = `
[sdl]
autolock=false
mouse_emulation=integration

[dosbox]
title=Windows 95
memsize=128

[video]
vmemsize=8
vesa modelist width limit=0
vesa modelist height limit=0

[dos]
ver=7.1
hard drive data rate limit=0
floppy drive data rate limit=0

[cpu]
cputype=pentium_mmx
core=auto 
integration device=true

[sblaster]
sbtype=sb16vibra

[fdc, primary]
int13fakev86io=true

[ide, primary]
int13fakeio=true
int13fakev86io=true

[ide, secondary]
int13fakeio=true
int13fakev86io=true
cd-rom insertion delay=4000

[render]
scaler=none

[autoexec]
echo off
imgmount 2 sockdrive wss://sockdrive.js-dos.com:8001 dos.zone diablo_109_c
imgmount 3 sockdrive wss://sockdrive.js-dos.com:8001 dos.zone diablo_109_d
boot c:
`;
  </script>
    <script>
    // Back button logic
    const backButton = document.getElementById('backButton');
    backButton.addEventListener('click', () => {
      window.location.href = '../'; // Thay '/' b·∫±ng URL trang ch·ªß n·∫øu kh√°c
    });
  </script>
  <script>
    Dos(document.getElementById("dos"), {
        url: "./pirates.jsdos",

        // === TH√äM KEYBOARD ·∫¢O ===
        softKeyboardLayout: [
            [
                // C·ªôt tr√°i
                [
                    "{f4}",
                    "{f2}",
                    "x z"
                ],

                // C·ªôt ph·∫£i
                [
                    "{f3}",
                    "{enter}",
                    "/ .",
                    "{space}"
                ]
            ],
        ],

        softKeyboardSymbols: [
            {
                "z": "",
                "x": "x",
                "/": "",
                ".": ">",
                "{space}": "‚¨ÜÔ∏è",
                "{f2}": "F2",
                "{f3}": "F3",
                "{f4}": "F4",
                "{up}": "up",
                "{enter}": "‚èé"
            }
        ]
        // === H·∫æT KEYBOARD ·∫¢O ===
    });
</script>
</body>

</html>